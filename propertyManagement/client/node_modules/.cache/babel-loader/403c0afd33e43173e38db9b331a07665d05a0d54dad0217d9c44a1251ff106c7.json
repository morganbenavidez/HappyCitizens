{"ast":null,"code":"var _jsxFileName = \"/Users/batiasegal/Desktop/CEN-4010/HappyCitizens/propertyManagement/client/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Axios from 'axios';\nimport \"./../App.css\";\nimport CitizenProfile from \"./CitizenProfile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  let history = useNavigate();\n  const [usernameLogin, setUsernameLogin] = useState(\"\");\n  const [passwordLogin, setPasswordLogin] = useState(\"\");\n  const [loginStatusL, setLoginStatusL] = useState(\"\");\n  const [categoryFromLogin, setCategoryFromLogin] = useState(\"\");\n  const [userList, setUserList] = useState([]);\n  const login = () => {\n    Axios.post('http://localhost:3001/login', {\n      username: usernameLogin,\n      password: passwordLogin\n    }, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data.message) {\n        setLoginStatusL(response.data.message);\n      } else {\n        console.log(response);\n        /*console.log(response.data[0].category);*/\n        var zuserid = String(response.data.user.userid);\n        localStorage.setItem(\"userid\", zuserid);\n        var zusername = String(response.data.user.username);\n        localStorage.setItem(\"username\", zusername);\n        var zcategory = String(response.data.user.category);\n        localStorage.setItem(\"category\", zcategory);\n        var zname = String(response.data.user.name);\n        localStorage.setItem(\"name\", zname);\n        var zlastname = String(response.data.user.lastname);\n        localStorage.setItem(\"lastname\", zlastname);\n        var zemail = String(response.data.user.email);\n        localStorage.setItem(\"email\", zemail);\n        var zphone = String(response.data.user.phone);\n        localStorage.setItem(\"phone\", zphone);\n        if (zcategory == \"1\") {\n          window.location.href = '/citizenprofile';\n        } else if (zcategory == \"2\") {\n          window.location.href = '/governmentprofile';\n        } else if (zcategory == \"4\") {\n          window.location.href = '/superuserprofile';\n        }\n\n        /*console.log(\"iiiii\");\n        console.log(response[0]);\n        window.location.href = `/citizenprofile/${i}`\n        setLoginStatus(response.data[0].id);*/\n      }\n\n      ;\n    });\n  };\n\n  //history.push('/citizenprofile'); // Do this when you push login\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"information\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"username\",\n        onChange: e => {\n          setUsernameLogin(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"password\",\n        onChange: e => {\n          setPasswordLogin(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: loginStatusL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: login,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n/*\nREDIRECT ON CLICK\n\n<button onClick={() => {\n                getLoginInformation\n                //history('/citizenprofile');\n            }}>Login</button>\n*/\n_s(Login, \"Cbbh0gAwN0R1tFJFez4q8IGUjfM=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","useState","Axios","CitizenProfile","Login","history","usernameLogin","setUsernameLogin","passwordLogin","setPasswordLogin","loginStatusL","setLoginStatusL","categoryFromLogin","setCategoryFromLogin","userList","setUserList","login","post","username","password","withCredentials","then","response","data","message","console","log","zuserid","String","user","userid","localStorage","setItem","zusername","zcategory","category","zname","name","zlastname","lastname","zemail","email","zphone","phone","window","location","href","e","target","value"],"sources":["/Users/batiasegal/Desktop/CEN-4010/HappyCitizens/propertyManagement/client/src/components/Login.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Axios from 'axios';\nimport \"./../App.css\";\nimport CitizenProfile from \"./CitizenProfile\";\n\nfunction Login() {\n\n    let history = useNavigate();\n\n    const [usernameLogin, setUsernameLogin] = useState(\"\");\n    const [passwordLogin, setPasswordLogin] = useState(\"\");\n\n    const [loginStatusL, setLoginStatusL] = useState(\"\")\n\n    const [categoryFromLogin, setCategoryFromLogin] = useState(\"\");\n\n    const [userList, setUserList] = useState([]);\n\n    const login = () => {\n        Axios.post('http://localhost:3001/login', {\n            username: usernameLogin,\n            password: passwordLogin,\n        },\n        {\n            withCredentials: true,\n        }).then((response) => {\n            if (response.data.message) {\n                setLoginStatusL(response.data.message);\n            } else {\n                console.log(response);\n                /*console.log(response.data[0].category);*/\n                var zuserid = String(response.data.user.userid);\n                localStorage.setItem(\"userid\", zuserid);\n                var zusername = String(response.data.user.username);\n                localStorage.setItem(\"username\", zusername);\n                var zcategory = String(response.data.user.category);\n                localStorage.setItem(\"category\", zcategory);\n                var zname = String(response.data.user.name);\n                localStorage.setItem(\"name\", zname);\n                var zlastname = String(response.data.user.lastname);\n                localStorage.setItem(\"lastname\", zlastname);\n                var zemail = String(response.data.user.email);\n                localStorage.setItem(\"email\", zemail);\n                var zphone = String(response.data.user.phone);\n                localStorage.setItem(\"phone\", zphone);\n                \n                if (zcategory == \"1\") {\n                    window.location.href = '/citizenprofile';\n                } else if (zcategory == \"2\") {\n                    window.location.href = '/governmentprofile';\n                } else if (zcategory == \"4\") {\n                    window.location.href = '/superuserprofile';\n                }\n                \n                /*console.log(\"iiiii\");\n                console.log(response[0]);\n                window.location.href = `/citizenprofile/${i}`\n                setLoginStatus(response.data[0].id);*/\n            \n                \n            };\n        });\n    };\n\n    //history.push('/citizenprofile'); // Do this when you push login\n    return (\n\n        <div className=\"App\">\n            <div className=\"information\">\n                <input \n                    type='text' \n                    placeholder='username' \n                    onChange={(e) => { \n                        setUsernameLogin(e.target.value);\n                    }}/>\n                <input \n                    type='text' \n                    placeholder='password' \n                    onChange={(e) => { \n                        setPasswordLogin(e.target.value);\n                    }}/>\n                <h2>{loginStatusL}</h2>\n                <button onClick={login}>Login</button>\n            </div>\n        </div>\n    );\n}\n/*\nREDIRECT ON CLICK\n\n<button onClick={() => {\n                getLoginInformation\n                //history('/citizenprofile');\n            }}>Login</button>\n*/\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}